<!DOCTYPE html>

<html>
<head>
    <title>Unit Converter - emi-h.com</title>

    <link rel="stylesheet" href="/style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="UTF-8" />
    <script type="text/javascript">
        function getCookie(name) {
            const value = document.cookie.split('; ').find((x) => x.startsWith(name + '='));
            return value ? value.split('=')[1] : null;
        }
    </script>
</head>

<body class="light-mode">
    <header>
        <div id="header-left">
            <div class="menu-item">
                <a href="/">emi-h.com</a>
            </div>
        </div>
        <div id="header-center">
            <div class="menu-item">
                <a href="/software">Software Projects</a>
            </div>
            <div class="menu-item">
                <a href="/music">Music</a>
            </div>
            <div class="menu-item">
                <a href="/articles">Articles</a>
            </div>
            <div class="menu-item">
                <a href="/resources">Resources</a>
            </div>
            <div class="menu-item">
                <a href="/tools">Tools</a>
            </div>
        </div>
        <div id="header-right">
            <div class="menu-item">
                <a onclick="toggleMode();" style="cursor: pointer;">Toggle theme</a>
            </div>
        </div>
    </header>
    <div id="lower-body">
        <main>
            <h1 id="title"><a href="#title">Unit Converter</a></h1>

            <p>Input quantity:</p>

            <div class="input-element">
                <input type="radio" name="in-quantity" id="in-quantity-amount-of-substance" checked />
                <label for="in-quantity-amount-of-substance">Amount of substance</label>
            </div>

            <div class="input-element">
                <input type="radio" name="in-quantity" id="in-quantity-concentration" />
                <label for="in-quantity-concentration">Concentration</label>
            </div>

            <div class="input-element">
                <input type="radio" name="in-quantity" id="in-quantity-mass" />
                <label for="in-quantity-mass">Mass</label>
            </div>

            <div class="input-element">
                <input type="radio" name="in-quantity" id="in-quantity-molarity" />
                <label for="in-quantity-molarity">Molarity</label>
            </div>

            <div class="input-element">
                <input type="radio" name="in-quantity" id="in-quantity-time" />
                <label for="in-quantity-time">Time</label>
            </div>

            <p>Output quantity:</p>

            <div class="input-element">
                <input type="radio" name="out-quantity" id="out-quantity-same" checked />
                <label for="out-quantity-same">(Same quantity)</label>
            </div>

            <div class="input-element">
                <input type="radio" name="out-quantity" id="out-quantity-amount-of-substance" />
                <label for="out-quantity-amount-of-substance">Amount of substance</label>
            </div>

            <div class="input-element">
                <input type="radio" name="out-quantity" id="out-quantity-concentration" />
                <label for="out-quantity-concentration">Concentration</label>
            </div>

            <div class="input-element">
                <input type="radio" name="out-quantity" id="out-quantity-mass" />
                <label for="out-quantity-mass">Mass</label>
            </div>

            <div class="input-element">
                <input type="radio" name="out-quantity" id="out-quantity-molarity" />
                <label for="out-quantity-molarity">Molarity</label>
            </div>

            <div class="substance-input">
                <p>Substance:</p>

                <div class="input-element">
                    <input type="text" id="substance" list="substance-list" />
                </div>
            </div>

            <p>Input value and unit:</p>

            <div class="input-element">
                <input type="text" id="in-value" style="margin-right: 2em;" />
                <input type="text" id="in-unit-dividend" style="width: 3em;" />
                <span id="in-slash"> / </span>
                <input type="text" id="in-unit-divisor" style="width: 3em;" />
            </div>

            <p>Output unit:</p>

            <div class="input-element">
                <input type="text" id="out-unit-dividend" style="width: 3em;" />
                <span id="out-slash"> / </span>
                <input type="text" id="out-unit-divisor" style="width: 3em;" />
            </div>

            <p><span id="out-value"></span></p>

            <datalist id="substance-list">
                <option value="estradiol"></option>
                <option value="testosterone"></option>
            </datalist>

        </main>
        <footer style="overflow-x: hidden;">
            <table id="footer-table"><tbody>
                <tr>
                    <td><a href="mailto:emilia144@proton.me">emilia144@proton.me</a></td>
                    <td><a href="https://github.com/emilia-h">github account</a></td>
                </tr>
                <tr>
                    <td><a href="/about">about</a></td>
                    <td><a href="https://github.com/emilia-h/emilia-h.github.io">site repo</a></td>
                </tr>
            </tbody></table>
        </footer>
    </div>

    <script type="text/javascript">
        let theme = 'light-mode';

        function toggleMode() {
            document.body.classList.remove(theme);
            if (theme == 'dark-mode') {
                theme = 'light-mode';
            } else if (theme == 'light-mode') {
                theme = 'dark-mode';
            }
            document.body.classList.add(theme);
            document.cookie = `pref=${theme}; samesite=strict; path=/`;
        }

        const previousSetting = getCookie('pref');
        if ((previousSetting && previousSetting !== theme) ||
            (!previousSetting && window.matchMedia &&
            window.matchMedia('(prefers-color-scheme: dark)').matches)
        ) {
            toggleMode();
        }
    </script>
    <!-- TODO: move this script more downward, so dark theme loads faster -->
    <script type="text/javascript" src="/scripts/unit-converter.js">
    </script>
</body>
</html>